@import "tailwindcss";

:root,
[data-theme="light"] {
  /* Light Theme Palette - Google/GDG Brand Colors */
  --background: #ffffff;
  --foreground: #202124;
  --surface: #ffffff;
  --surface-muted: #f8f9fa;
  --border: #e8eaed;
  --muted: #5f6368;
  --heading: #202124;
  --brand: #4285f4;
  --brand-accent: #4285f4; /* Google 藍 */
  --accent: #ea4335;
  --warn: #fbbc04;
  --text-on-brand: #ffffff;
  --matrix-bg: rgba(255, 255, 255, 0.1); /* 原為 0.45 */
  --matrix-head: #006400; /* 下落文字主色改為深綠色 */
  --matrix-default: #006400; /* 下落文字預設色改為深綠色 */
  --matrix-brackets: #006400; /* 下落括號顏色改為深綠色 */

  /* Font Variables */
  --font-source-sans: 'Source Sans 3', 'Source Sans Pro', Arial, Helvetica, sans-serif;
}

[data-theme="dark"] {
  /* Dark Theme Palette - Google/GDG Dark Brand Colors */
  --background: #121212;
  --foreground: #e8eaed;
  --surface: #1e1e1e;
  --surface-muted: #121212;
  --border: #3c4043;
  --muted: #9aa0a6;
  --heading: #8ab4f8;
  --brand: #4285f4; /* Google 藍 */
  --brand-accent: #4285f4; /* Google 藍 */
  --accent: #f28b82;
  --warn: #fdd663;
  --text-on-brand: #202124;
  --matrix-bg: rgba(0, 0, 0, 0.05); /* 原為 0.3 */
    --matrix-head: #39FF14; /* 下落文字主色改為綠色 */
    --matrix-default: #39FF14; /* 下落文字預設色改為綠色 */
    --matrix-brackets: #39FF14; /* 下落括號顏色改為綠色 */
}

html,
body {
  /* 防止頁面在手機上左右滾動 */
  max-width: 100%;
  overflow-x: hidden;
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-source-sans);
  line-height: 1.6;
  transition: background 0.3s ease, color 0.3s ease;
}

/* Typography Classes */
.pc-h0 {
  font-family: var(--font-source-sans);
  font-weight: 600;
  font-size: 128px;
  /* 增加從 96px */
  line-height: auto;
  letter-spacing: 0px;
}

.pc-h1 {
  font-family: var(--font-source-sans);
  font-weight: 600;
  font-size: 84px;
  /* 增加從 64px */
  line-height: auto;
  letter-spacing: 0px;
}

.pc-h2 {
  font-family: var(--font-source-sans);
  font-weight: 600;
  font-size: 48px;
  /* 增加從 36px */
  line-height: auto;
  letter-spacing: 0px;
}

.pc-h3 {
  font-family: var(--font-source-sans);
  font-weight: 400;
  font-size: 24px;
  line-height: auto;
  letter-spacing: 0px;
}

.pc-liner-bold {
  font-family: var(--font-source-sans);
  font-weight: 600;
  font-size: 16px;
  line-height: auto;
  letter-spacing: 0px;
}

.pc-liner {
  font-family: var(--font-source-sans);
  font-weight: 300;
  font-size: 16px;
  line-height: auto;
  letter-spacing: 0px;
}

/* Mobile Typography Classes */
.phone-h1 {
  font-family: var(--font-source-sans);
  font-weight: 700;
  font-size: 36px;
  /* 調整為適合手機的大小 */
  line-height: 1.2;
  /* 改善行高 */
  letter-spacing: -0.02em;
}

.phone-h2 {
  font-family: var(--font-source-sans);
  font-weight: 600;
  font-size: 24px;
  /* 調整大小 */
  line-height: 1.3;
  /* 改善行高 */
  letter-spacing: -0.01em;
}

.phone-h3 {
  font-family: var(--font-source-sans);
  font-weight: 600;
  font-size: 18px;
  /* 增加可讀性 */
  line-height: 1.4;
  letter-spacing: 0px;
}

.phone-liner-bold {
  font-family: var(--font-source-sans);
  font-weight: 600;
  font-size: 16px;
  /* 提高可讀性 */
  line-height: 1.5;
  letter-spacing: 0px;
}

.phone-liner {
  font-family: var(--font-source-sans);
  font-weight: 400;
  /* 調整字重 */
  font-size: 16px;
  /* 提高可讀性 */
  line-height: 1.6;
  /* 改善可讀性 */
  letter-spacing: 0px;
}

/* Smooth scroll behavior */
html {
  scroll-behavior: smooth;
}

/* 手機版面優化 */
@media (max-width: 768px) {

  /* 隱藏手機上不必要的滾動條 */
  body {
    overflow-x: hidden;
  }

  /* 優化按鈕觸摸體驗 */
  button {
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
    min-height: 44px;
    /* iOS 建議的最小觸摸目標 */
  }

  /* 優化輸入體驗 */
  input,
  textarea,
  select {
    font-size: 16px;
    /* 防止 iOS Safari 縮放 */
  }

  /* 確保內容不會太靠近邊緣 */
  .container {
    padding-left: 1rem;
    padding-right: 1rem;
  }

  /* 優化導航欄在小屏幕上的間距 */
  .navbar-mobile {
    padding: 0.75rem 1rem;
  }

  /* 確保圖片響應式 */
  img {
    max-width: 100%;
    height: auto;
  }
}

/* 文字可讀性優化 */
.text-shadow-strong {
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8), 0 0 8px rgba(0, 0, 0, 0.3);
}

.text-shadow-medium {
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.6), 0 0 6px rgba(0, 0, 0, 0.2);
}

.text-shadow-light {
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);
}

/* 確保在亮色背景下的文字對比度 */
.high-contrast {
  color: rgba(255, 255, 255, 0.95);
  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.8), 0 0 16px rgba(0, 0, 0, 0.4);
}

/* Custom animations */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scaleIn {
  from {
    transform: scale(1.05);
  }

  to {
    transform: scale(1);
  }
}

.fade-in-up {
  animation: fadeInUp 0.8s ease-out forwards;
}

.scale-in {
  animation: scaleIn 1.2s ease-out;
}

@keyframes gradient-shift {

  0%,
  100% {
    background-position: 0% 50%;
  }

  50% {
    background-position: 100% 50%;
  }
}

@keyframes background-pan {
  from {
    background-position: 0% center;
  }

  to {
    background-position: -200% center;
  }
}

@keyframes float {

  0%,
  100% {
    transform: translateY(0px) rotate(0deg);
  }

  50% {
    transform: translateY(-10px) rotate(5deg);
  }
}

@keyframes float-reverse {

  0%,
  100% {
    transform: translateY(0px) rotate(0deg);
  }

  50% {
    transform: translateY(10px) rotate(-5deg);
  }
}

.float-animation {
  animation: float 6s ease-in-out infinite;
}

.float-animation-reverse {
  animation: float-reverse 8s ease-in-out infinite;
}

/* 隱藏滾動條 */
.no-scrollbar {
  -ms-overflow-style: none;
}

.no-scrollbar::-webkit-scrollbar {
  display: none;
}

/* 響應式工具類 */
.mobile-optimized {
  @media (max-width: 768px) {
    padding-left: 1rem;
    padding-right: 1rem;
    margin-left: auto;
    margin-right: auto;
  }
}

.mobile-text-center {
  @media (max-width: 768px) {
    text-align: center;
  }
}

/* Marquee animation - 無縫滾動效果 */
@keyframes marquee-scroll {
  0% {
    transform: translateX(0);
  }

  100% {
    transform: translateX(-50%);
    /* 移動50%，因為我們有重複的內容 */
  }
}

.marquee-container {
  animation: marquee-scroll 45s linear infinite;
  width: max-content;
  /* 讓容器寬度適應內容 */
  display: flex;
}

.marquee-container:hover {
  animation-play-state: paused;
  /* 滑鼠懸停時暫停動畫 */
}

/* 為每個技術棧項目添加淡入動畫 */
.marquee-container>div {
  animation: fadeInScale 0.8s ease-out both;
}

@keyframes fadeInScale {
  0% {
    opacity: 0;
    transform: scale(0.8) translateY(10px);
  }

  100% {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

/* 備用方案 - 雙層輪播 */
.marquee-layer-1 {
  animation: marquee-seamless 15s linear infinite;
}

.marquee-layer-2 {
  animation: marquee-offset 15s linear infinite;
  animation-delay: -7.5s;
  /* 延遲一半時間，創造無縫效果 */
}

.mobile-full-width {
  @media (max-width: 768px) {
    width: 100%;
    max-width: 100%;
  }
}

/* Vision Card Sheen Effect */
.sheen {
  /* 初始光線位置 */
  --x: 50%;
  --y: 50%;
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at var(--x) var(--y), rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0) 60%);
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s ease;
  mix-blend-mode: screen;
}

/* JoinUs 背景與彩虹文字動畫 */

/* 背景極光移動 */
/* 彩虹文字漸層移動 */
@keyframes rainbow {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

/* 極光流動背景 */
/* JOINUS 區塊藍色光球背景 */
.joinus-glow {
  width: 60vmin;
  height: 60vmin;
  border-radius: 9999px;
  background: radial-gradient(circle, rgba(66, 133, 244, 0.35), transparent 70%);
  filter: blur(80px); /* 模糊處理讓邊緣柔和 */
  z-index: -1;
}
.dark .joinus-glow {
  background: radial-gradient(circle, rgba(66, 133, 244, 0.25), transparent 70%);
}

/* 滑鼠跟隨聚光燈 */
.cursor-spotlight {
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(200px circle at var(--mx) var(--my), rgba(255, 255, 255, 0.12), transparent 60%);
  mix-blend-mode: screen;
  transition: opacity 0.3s ease;
  opacity: 0;
  z-index: 50;
}

/* 虹彩跟隨效果按鈕 */
.holo-btn {
  position: relative;
  overflow: hidden;
}
.holo-btn::before,
.holo-btn::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
}
.holo-btn::before {
  background: radial-gradient(400px circle at var(--bx) var(--by), rgba(255, 255, 255, 0.3), transparent 60%);
  mix-blend-mode: screen;
  transition: opacity 0.2s;
  opacity: 0;
}
.holo-btn:hover::before {
  opacity: 1;
}
.holo-btn::after {
  background: radial-gradient(400px circle at var(--bx) var(--by), rgba(66, 133, 244, 0.4), rgba(219, 68, 55, 0.4), transparent 70%);
  mix-blend-mode: overlay;
  filter: blur(30px);
}

/* Outer rainbow halo: large, blurred conic gradient that follows mouse on desktop */
.holo-halo {
  --b-opacity: 0;
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 260%;
  height: 260%;
  pointer-events: none;
  border-radius: 9999px;
  z-index: -1;
  opacity: calc(var(--b-opacity, 0));
  transition: opacity 220ms ease, transform 220ms ease;
  /* rainbow conic gradient */
  background: conic-gradient(from 0deg at var(--bxp,50%) var(--byp,50%),
    #ff0a54 0deg,
    #ff8a00 45deg,
    #ffd300 90deg,
    #4de3a9 135deg,
    #00eaff 180deg,
    #7b61ff 225deg,
    #ff7bfb 270deg,
    #ff0a54 360deg);
  filter: blur(28px) saturate(1.25);
  mix-blend-mode: screen;
  transform-origin: center;
}

/* Only enable the large outer halo on devices that support hover & fine pointer */
@media (hover:hover) and (pointer: fine) {
  .holo-btn .holo-halo {
    opacity: calc(var(--b-opacity, 0));
  }
}

/* Prefer reduced motion: disable heavy animations */
@media (prefers-reduced-motion: reduce) {
  .holo-halo,
  .holo-btn::after,
  .holo-btn::before {
    transition: none !important;
    animation: none !important;
    filter: none !important;
  }
}

/* 彩虹流動文字 */
.rainbow-text {
  background-image: linear-gradient(90deg, #00eaff, #7b61ff, #ff7bfb, #00eaff);
  background-size: 200% 200%;
  animation: rainbow 8s linear infinite;
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

/* 手機版專案標籤填色動畫 */
.status-pill {
  position: relative;
  overflow: hidden;
}
.status-pill::before {
  content: "";
  position: absolute;
  inset: 0;
  background: var(--surface-muted);
  z-index: 0;
}
.tag-fill-down::before {
  transform-origin: top;
  animation: tag-uncover 0.4s forwards;
}
.tag-fill-up::before {
  transform-origin: bottom;
  animation: tag-uncover 0.4s forwards;
}
@keyframes tag-uncover {
  from {
    transform: scaleY(1);
  }
  to {
    transform: scaleY(0);
  }
}

/* 禁止拖曳與選取所有圖片與圖示 */
img,
svg {
  -webkit-user-select: none;
  user-select: none;
  pointer-events: none;
}

/* 合作夥伴卡片：循環四色光暈 */
.partner-halo {
  position: absolute;
  /* positioned relative to the partners container top-left; movement via transform (translate3d) */
  left: 0;
  top: 0;
  width: 140px;
  height: 140px;
  transform: translate3d(0, 0, 0);
  border-radius: 50%;
  pointer-events: none;
  z-index: 0;
  background-color: #4285F4;
  opacity: 0;
  filter: blur(18px) saturate(1.03);
  mix-blend-mode: screen;
  will-change: transform, opacity;
  backface-visibility: hidden;
  transition: transform 260ms cubic-bezier(0.22,1,0.36,1), width 180ms ease, height 180ms ease, opacity 260ms ease;
  /* color animation cycles through Google four colors */
  animation: halo-color 6s linear infinite;
}

@keyframes halo-color {
  0% { background-color: #4285F4; box-shadow: 0 0 40px #4285F4; }
  25% { background-color: #EA4335; box-shadow: 0 0 40px #EA4335; }
  50% { background-color: #FBBC05; box-shadow: 0 0 40px #FBBC05; }
  75% { background-color: #34A853; box-shadow: 0 0 40px #34A853; }
  100% { background-color: #4285F4; box-shadow: 0 0 40px #4285F4; }
}

@media (prefers-reduced-motion: reduce) {
  .partner-halo {
    animation: none;
    transition: none;
    filter: blur(12px);
  }
}

/* 微效能提升與文字渲染優化 */
* {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* GPU 加速給動畫元素 */
.marquee-container,
.fade-in-up,
.scale-in,
.float-animation,
.float-animation-reverse {
  will-change: transform;
}

/* 螢光筆掃過效果 */
/* 多行螢光筆效果，支援文字換行 */
.highlight-line {
  position: relative;
  display: inline;
  z-index: 0;
  background-image: linear-gradient(transparent 60%, var(--brand-accent) 60%);
  background-repeat: no-repeat;
  background-size: 0% 100%;
  transition: background-size 0.4s ease;
  -webkit-box-decoration-break: clone;
  box-decoration-break: clone;
  border-radius: 0.25em;
}
[data-theme="dark"] .highlight-line {
  background-image: linear-gradient(transparent 60%, #8ab4f8 60%);
}
.group:hover .highlight-line,
.card-active .highlight-line {
  background-size: 100% 100%;
}
.group:hover p .highlight-line,
.card-active p .highlight-line {
  transition-delay: 0.15s;
}
